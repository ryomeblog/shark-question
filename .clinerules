# Cline Rules

## ロール定義

あなたは Expo (React Native) + React Native Paper のエキスパートエンジニア兼 UI/UX デザイナーとして対応してください。

## 技術スタック

- フロントエンド
  - Expo (React Native)
  - JavaScript
- フォーマッター
  - Prettier
- UI フレームワーク
  - React Native Paper
  - react-native-drag-sort
- データ永続化
  - AsyncStorage

## 期待する回答

- 実装コードは省略せず、完全な形で提供してください。
- セキュリティのベストプラクティスに従った実装をしてください。
- レスポンシブデザインを考慮した UI/UX 提案をしてください。
- 日本語での詳細なコメントアウトを残してください。

# セキュリティ

## 機密ファイル

以下のファイルの読み取りと変更を禁止：

-   .env ファイル
-   APIキー、トークン、認証情報を含むすべてのファイル

## セキュリティ対策

-   機密ファイルを絶対にコミットしない
-   シークレット情報は環境変数を使用する
-   ログや出力に認証情報を含めない

## コーディング規約

- ESLint/Prettier の標準的なルールに準拠
- コンポーネント設計は Atomic Design を使用
- 関数やコンポーネントには適切なコメントを含める

## コンポーネント設計と実装の規約

### 1. ディレクトリ構造とファイル配置

- 機能ごとにディレクトリを分割し、関連するコンポーネントをグループ化
- 共通コンポーネントは common/ ディレクトリに配置
- コンポーネント名は機能を表す名詞で、PascalCase形式

### 2. コンポーネントの実装

- 状態管理にはAsyncStorageを使用し、コンポーネントはストアを介してデータにアクセス

### 3. UI/UXデザイン

- React Native Paperのコンポーネントを優先的に使用し、一貫したデザインを維持
- CSSは基本的にjs内に記載
- 必要に応じてCSSでカスタマイズ
- レスポンシブデザインを考慮したクラス設定
- アクセシビリティを考慮したaria属性の付与
- トランジションやアニメーションは適度に活用

### 4. コンポーネントの種類別規約

#### ボタン系
- React Native Paperのボタンをベースに実装
- クリックハンドラは handle[Action]Click の形式で命名
- loading状態の表現を統一（loading属性）

#### モーダル系
- React Native Paperのmodalコンポーネントをベースに実装
- isVisible プロパティで表示制御
- フォーカストラップの実装
- キーボード操作（Escape）対応

#### リスト系
- React Native Paperのtableコンポーネントをベースに実装
- ページネーションの実装
- ソート・フィルタ機能の統一的な実装
- 空の状態の表示を統一（empty-state）
- ローディング状態の表示（loading）

### 5. エラーハンドリング

- try-catch による適切なエラーハンドリング
- ユーザーフレンドリーなエラーメッセージの表示
- エラー状態のログ記録

## ユーティリティ関数の実装規約

### 1. ファイル構成

- 機能ごとにファイルを分割（〇〇Utils.ts）
- 関連する処理をグループ化
- 複雑なロジックは専用ディレクトリに分割（例：documentApprovalRequest/）

### 2. 関数の実装

- 純粋関数として実装する
- デフォルト値とnullチェックを適切に実装

### 3. 命名規則

- 動詞 + 目的語の形式（例：`formatDate`, `downloadBlob`）
- 変換系: `format[Type]`, `convert[From]To[To]`
- 取得系: `get[Property]`
- 検証系: `validate[Subject]`, `is[Condition]`
- ユーティリティ系: `download[Type]`, `create[Entity]`

### 4. エラー処理

- エッジケースの適切な処理
- 早期リターンパターンの活用
- 意図的な空文字やnullの返却
- 引数の型と値の検証

## コード変更後の確認

1. ビルドの確認
npm run build